{"openapi":"3.0.3","info":{"title":"axum-admin","description":"","license":{"name":""},"version":"0.1.0"},"servers":[{"url":"http://localhost:8000","description":"dev"},{"url":"http://localhost:8000/admin","description":"dev/admin"}],"paths":{"/admin/login":{"post":{"tags":["user"],"summary":"用户登录","operationId":"login","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserLoginReq"}}},"required":true},"responses":{"200":{"description":"操作成功, code=0, data=token","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BaseResponse"}}}}}}},"/admin/menu_delete":{"post":{"tags":["menu"],"summary":"删除菜单","operationId":"menu_delete","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MenuDeleteReq"}}},"required":true},"responses":{"200":{"description":"操作成功, code=0, data=id","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BaseResponse"}}}}},"security":[{"token":[]}]}},"/admin/menu_list":{"post":{"tags":["menu"],"summary":"查询菜单","operationId":"menu_list","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MenuListReq"}}},"required":true},"responses":{"200":{"description":"操作成功, code=0, data=[MenuListData]","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BaseResponse"}}}}},"security":[{"token":[]}]}},"/admin/menu_save":{"post":{"tags":["menu"],"summary":"添加菜单","operationId":"menu_save","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MenuSaveReq"}}},"required":true},"responses":{"200":{"description":"操作成功, code=0, data=id","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BaseResponse"}}}}},"security":[{"token":[]}]}},"/admin/menu_update":{"post":{"tags":["menu"],"summary":"更新菜单","operationId":"menu_update","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MenuUpdateReq"}}},"required":true},"responses":{"200":{"description":"操作成功, code=0, data=id","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BaseResponse"}}}}},"security":[{"token":[]}]}},"/admin/query_role_menu":{"post":{"tags":["role"],"summary":"查询角色菜单","operationId":"query_role_menu","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/QueryRoleMenuReq"}}},"required":true},"responses":{"200":{"description":"操作成功, code=0, data=QueryRoleMenuData","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BaseResponse"}}}}},"security":[{"token":[]}]}},"/admin/query_user_menu":{"get":{"tags":["user"],"summary":"查询用户菜单","operationId":"query_user_menu","responses":{"200":{"description":"操作成功, code=0, data=QueryUserMenuData","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BaseResponse"}}}}},"security":[{"token":[]}]}},"/admin/query_user_role":{"post":{"tags":["user"],"summary":"查询用户角色","operationId":"query_user_role","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/QueryUserRoleReq"}}},"required":true},"responses":{"200":{"description":"操作成功, code=0, data=QueryUserRoleData","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BaseResponse"}}}}},"security":[{"token":[]}]}},"/admin/role_delete":{"post":{"tags":["role"],"summary":"删除角色","operationId":"role_delete","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RoleDeleteReq"}}},"required":true},"responses":{"200":{"description":"操作成功, code=0, data=id","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BaseResponse"}}}}},"security":[{"token":[]}]}},"/admin/role_list":{"post":{"tags":["role"],"summary":"查询角色列表","operationId":"role_list","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RoleListReq"}}},"required":true},"responses":{"200":{"description":"操作成功, code=0, data=RoleListData","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BaseResponse"}}}}},"security":[{"token":[]}]}},"/admin/role_save":{"post":{"tags":["role"],"summary":"添加角色","operationId":"role_save","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RoleSaveReq"}}},"required":true},"responses":{"200":{"description":"操作成功, code=0, data=id","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BaseResponse"}}}}},"security":[{"token":[]}]}},"/admin/role_update":{"post":{"tags":["role"],"summary":"更新角色","operationId":"role_update","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RoleUpdateReq"}}},"required":true},"responses":{"200":{"description":"操作成功, code=0, data=id","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BaseResponse"}}}}},"security":[{"token":[]}]}},"/admin/update_role_menu":{"post":{"tags":["role"],"summary":"更新角色菜单","operationId":"update_role_menu","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateRoleMenuReq"}}},"required":true},"responses":{"200":{"description":"操作成功, code=0, data=id","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BaseResponse"}}}}},"security":[{"token":[]}]}},"/admin/update_user_password":{"post":{"tags":["user"],"summary":"更新用户密码","operationId":"update_user_password","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateUserPwdReq"}}},"required":true},"responses":{"200":{"description":"操作成功, code=0, data=id","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BaseResponse"}}}}},"security":[{"token":[]}]}},"/admin/update_user_role":{"post":{"tags":["user"],"summary":"更新用户角色","operationId":"update_user_role","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateUserRoleReq"}}},"required":true},"responses":{"200":{"description":"操作成功, code=0, data=bool","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BaseResponse"}}}}},"security":[{"token":[]}]}},"/admin/user_delete":{"post":{"tags":["user"],"summary":"删除用户","operationId":"user_delete","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserDeleteReq"}}},"required":true},"responses":{"200":{"description":"操作成功, code=0, data=id","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BaseResponse"}}}}},"security":[{"token":[]}]}},"/admin/user_list":{"post":{"tags":["user"],"summary":"查询用户列表","operationId":"user_list","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserListReq"}}},"required":true},"responses":{"200":{"description":"操作成功, code=0, data=[UserListData]","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BaseResponse"}}}}},"security":[{"token":[]}]}},"/admin/user_save":{"post":{"tags":["user"],"summary":"添加用户","operationId":"user_save","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserSaveReq"}}},"required":true},"responses":{"200":{"description":"操作成功, code=0, data=id","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BaseResponse"}}}}},"security":[{"token":[]}]}},"/admin/user_update":{"post":{"tags":["user"],"summary":"更新用户信息","operationId":"user_update","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserUpdateReq"}}},"required":true},"responses":{"200":{"description":"操作成功, code=0, data=id","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BaseResponse"}}}}},"security":[{"token":[]}]}}},"components":{"schemas":{"BaseResponse":{"type":"object","description":"统一返回vo","required":["code","data"],"properties":{"code":{"type":"integer","format":"int32"},"data":{"type":"string"},"msg":{"type":"string","nullable":true}}},"MenuDataList":{"type":"object","required":["id","parent_id","title","key","isPenultimate"],"properties":{"id":{"type":"integer","format":"int32"},"isPenultimate":{"type":"boolean"},"key":{"type":"string"},"parent_id":{"type":"integer","format":"int32"},"title":{"type":"string"}}},"MenuDeleteReq":{"type":"object","required":["ids"],"properties":{"ids":{"type":"array","items":{"type":"integer","format":"int32"}}}},"MenuListData":{"type":"object","required":["id","sort","status","parent_id","menu_name","menu_url","icon","api_url","remark","menu_type","create_time","update_time"],"properties":{"api_url":{"type":"string"},"create_time":{"type":"string"},"icon":{"type":"string"},"id":{"type":"integer","format":"int32"},"menu_name":{"type":"string"},"menu_type":{"type":"integer","format":"int32"},"menu_url":{"type":"string"},"parent_id":{"type":"integer","format":"int32"},"remark":{"type":"string"},"sort":{"type":"integer","format":"int32"},"status":{"type":"integer","format":"int32"},"update_time":{"type":"string"}}},"MenuListReq":{"type":"object","properties":{"menu_name":{"type":"string","nullable":true},"status":{"type":"integer","format":"int32","nullable":true}}},"MenuSaveReq":{"type":"object","required":["sort","status","menu_name","menu_type"],"properties":{"api_url":{"type":"string","nullable":true},"icon":{"type":"string","nullable":true},"menu_name":{"type":"string"},"menu_type":{"type":"integer","format":"int32"},"menu_url":{"type":"string","nullable":true},"parent_id":{"type":"integer","format":"int32","nullable":true},"remark":{"type":"string","nullable":true},"sort":{"type":"integer","format":"int32"},"status":{"type":"integer","format":"int32"}}},"MenuUpdateReq":{"type":"object","required":["id","sort","status","parent_id","menu_name","menu_type"],"properties":{"api_url":{"type":"string","nullable":true},"icon":{"type":"string","nullable":true},"id":{"type":"integer","format":"int32"},"menu_name":{"type":"string"},"menu_type":{"type":"integer","format":"int32"},"menu_url":{"type":"string","nullable":true},"parent_id":{"type":"integer","format":"int32"},"remark":{"type":"string","nullable":true},"sort":{"type":"integer","format":"int32"},"status":{"type":"integer","format":"int32"}}},"MenuUserList":{"type":"object","required":["id","parent_id","name","path","api_url","menu_type","icon"],"properties":{"api_url":{"type":"string"},"icon":{"type":"string"},"id":{"type":"integer","format":"int32"},"menu_type":{"type":"integer","format":"int32"},"name":{"type":"string"},"parent_id":{"type":"integer","format":"int32"},"path":{"type":"string"}}},"QueryRoleMenuData":{"type":"object","required":["role_menus","menu_list"],"properties":{"menu_list":{"type":"array","items":{"$ref":"#/components/schemas/MenuDataList"}},"role_menus":{"type":"array","items":{"type":"integer","format":"int32"}}}},"QueryRoleMenuReq":{"type":"object","required":["role_id"],"properties":{"role_id":{"type":"integer","format":"int32"}}},"QueryUserMenuData":{"type":"object","required":["sys_menu","btn_menu","avatar","name"],"properties":{"avatar":{"type":"string"},"btn_menu":{"type":"array","items":{"type":"string"}},"name":{"type":"string"},"sys_menu":{"type":"array","items":{"$ref":"#/components/schemas/MenuUserList"}}}},"QueryUserRoleData":{"type":"object","required":["sys_role_list","user_role_ids"],"properties":{"sys_role_list":{"type":"array","items":{"$ref":"#/components/schemas/UserRoleList"}},"user_role_ids":{"type":"array","items":{"type":"integer","format":"int32"}}}},"QueryUserRoleReq":{"type":"object","required":["user_id"],"properties":{"user_id":{"type":"integer","format":"int64","minimum":0}}},"RoleDeleteReq":{"type":"object","required":["ids"],"properties":{"ids":{"type":"array","items":{"type":"integer","format":"int32"}}}},"RoleListData":{"type":"object","required":["id","status","role_name","remark","create_time","update_time"],"properties":{"create_time":{"type":"string"},"id":{"type":"integer","format":"int32"},"remark":{"type":"string"},"role_name":{"type":"string"},"status":{"type":"integer","format":"int32"},"update_time":{"type":"string"}}},"RoleListReq":{"type":"object","required":["pageNo","pageSize"],"properties":{"pageNo":{"type":"integer","format":"int64","minimum":0},"pageSize":{"type":"integer","format":"int64","minimum":0},"role_name":{"type":"string","nullable":true},"status":{"type":"integer","format":"int32","nullable":true}}},"RoleSaveReq":{"type":"object","required":["role_name","status"],"properties":{"remark":{"type":"string","nullable":true},"role_name":{"type":"string"},"status":{"type":"integer","format":"int32"}}},"RoleUpdateReq":{"type":"object","required":["id","status","role_name"],"properties":{"id":{"type":"integer","format":"int32"},"remark":{"type":"string","nullable":true},"role_name":{"type":"string"},"status":{"type":"integer","format":"int32"}}},"UpdateRoleMenuReq":{"type":"object","required":["menu_ids","role_id"],"properties":{"menu_ids":{"type":"array","items":{"type":"integer","format":"int32"}},"role_id":{"type":"integer","format":"int32"}}},"UpdateUserPwdReq":{"type":"object","required":["id","password","new_password"],"properties":{"id":{"type":"integer","format":"int64","minimum":0},"new_password":{"type":"string"},"password":{"type":"string"}}},"UpdateUserRoleReq":{"type":"object","required":["user_id","role_ids"],"properties":{"role_ids":{"type":"array","items":{"type":"integer","format":"int32"}},"user_id":{"type":"integer","format":"int64","minimum":0}}},"UserDeleteReq":{"type":"object","required":["ids"],"properties":{"ids":{"type":"array","items":{"type":"integer","format":"int64","minimum":0}}}},"UserListData":{"type":"object","required":["id","status","mobile","user_name","remark","create_time","update_time"],"properties":{"create_time":{"type":"string"},"id":{"type":"integer","format":"int64","minimum":0},"mobile":{"type":"string"},"remark":{"type":"string"},"status":{"type":"integer","format":"int32"},"update_time":{"type":"string"},"user_name":{"type":"string"}}},"UserListReq":{"type":"object","required":["pageNo","pageSize"],"properties":{"mobile":{"type":"string","nullable":true},"pageNo":{"type":"integer","format":"int64","minimum":0},"pageSize":{"type":"integer","format":"int64","minimum":0},"status":{"type":"integer","format":"int32","nullable":true}}},"UserLoginReq":{"type":"object","required":["mobile","password"],"properties":{"mobile":{"type":"string","example":"18500000000"},"password":{"type":"string","example":"e10adc3949ba59abbe56e057f20f883e"}}},"UserRoleList":{"type":"object","required":["id","status","role_name","remark","create_time","update_time"],"properties":{"create_time":{"type":"string"},"id":{"type":"integer","format":"int32"},"remark":{"type":"string"},"role_name":{"type":"string"},"status":{"type":"integer","format":"int32"},"update_time":{"type":"string"}}},"UserSaveReq":{"type":"object","required":["mobile","user_name","status"],"properties":{"mobile":{"type":"string"},"remark":{"type":"string","nullable":true},"status":{"type":"integer","format":"int32"},"user_name":{"type":"string"}}},"UserUpdateReq":{"type":"object","required":["id","status","mobile","user_name"],"properties":{"id":{"type":"integer","format":"int64","minimum":0},"mobile":{"type":"string"},"remark":{"type":"string","nullable":true},"status":{"type":"integer","format":"int32"},"user_name":{"type":"string"}}}},"securitySchemes":{"token":{"type":"http","scheme":"bearer"}}}}